
function Input_TextPI(owner){this.owner=owner;this.input_id="Properties_input_text_id_"+this.owner.name;this.input_type="Properties_input_text_type_"+this.owner.name;this.input_value_td="Properties_input_text_td_value_"+this.owner.name;this.input_value="Properties_input_text_value_"+this.owner.name;this.textarea_value_td="Properties_textarea_td_value_"+this.owner.name;this.textarea_value="Properties_textarea_value_"+this.owner.name;this.input_size="Properties_input_text_size_"+this.owner.name;this.textarea_cols="Properties_textarea_cols_"+this.owner.name;this.input_maxlength_label="label_maxlength_"+this.owner.name;this.input_maxlength="Properties_input_text_maxlength_"+this.owner.name;this.textarea_rows_label="label_rows_"+this.owner.name;this.textarea_rows="Properties_textarea_rows_"+this.owner.name;this.textarea_wrap="Properties_textarea_wrap_"+this.owner.name;this.textarea_wrapL="Properties_textarea_wrap_label_"+this.owner.name;this.textarea_wrapS="Properties_textarea_wrap_select_"+this.owner.name;};function Input_Text_renameInput(el,newName){el.removeAttribute("name");el.removeAttribute("NAME");el.setAttribute("NAME",newName);el.setAttribute("name",newName);return el;};function replaceNodeWithHTML(el,html){var oldId=el.id;var df=el.ownerDocument.createDocumentFragment();var newSpan=el.ownerDocument.createElement("SPAN");newSpan.id="uniqid";el.parentNode.replaceChild(newSpan,el);var newEl=el.ownerDocument.getElementById("uniqid");newEl.innerHTML=html;newEl.id=oldId;el=newEl.removeChild(newEl.firstChild);newEl.parentNode.replaceChild(el,newEl);return el;};function Input_TextPI_apply(propName,propValue){switch(propName){case"id":if(propValue!=""){this.owner.inspectedNode.setAttribute('id',propValue);}else{this.owner.inspectedNode.removeAttribute('id');}
break;case"value":var oldPropValue=this.owner.inspectedNode.value;if(propValue!=""){var valueAttrNodeExists=this.owner.inspectedNode.getAttributeNode("value");if(!valueAttrNodeExists){var newValueAttr=document.createAttribute('value');this.owner.inspectedNode.setAttributeNode(newValueAttr);}
this.owner.inspectedNode.value=propValue;this.owner.inspectedNode.setAttribute("value",propValue);}else{this.owner.inspectedNode.value="";this.owner.inspectedNode.removeAttribute("value");}
break;case"size":var oldPropValue=this.owner.inspectedNode.size;if(propValue!=""){this.owner.inspectedNode.size=Math.max(1,propValue);}else{this.owner.inspectedNode.removeAttribute("size");}
break;case"maxlength":var oldPropValue=this.owner.inspectedNode.maxLength;if(propValue!=""){this.owner.inspectedNode.maxLength=propValue;}else{this.owner.inspectedNode.removeAttribute("maxlength");}
break;case"cols":var oldPropValue=this.owner.inspectedNode.cols;if(propValue!=""){this.owner.inspectedNode.cols=propValue;}else{this.owner.inspectedNode.removeAttribute("cols");}
break;case"rows":var oldPropValue=this.owner.inspectedNode.rows;if(propValue!=""){this.owner.inspectedNode.rows=propValue;}else{this.owner.inspectedNode.removeAttribute("rows");}
break;case"wrap":var oldPropValue=this.owner.inspectedNode.wrap;if(propValue!=""){if(propValue=='soft')
propValue="";this.owner.inspectedNode.setAttribute("wrap",propValue);}else{this.owner.inspectedNode.removeAttribute("wrap");}
break;case"type":var inputType=this.owner.inspectedNode.tagName.toLowerCase()=="TEXTAREA"?"textarea":this.owner.inspectedNode.type;if(inputType=="text"||inputType=="password"){if(propValue=="text"||propValue=="password"){var wNode=this.owner.inspectedNode;var oName=wNode.name;var sHtml=wNode.outerHTML;var typeAttribute=/type=(\x22{0,1})\w{1,}\1/i;var hasTypeDefined=sHtml.match(typeAttribute);if(hasTypeDefined){sHtml=sHtml.replace(typeAttribute,'type=$1'+propValue+"$1");}
else{sHtml=sHtml.replace('\>',' type="'+propValue+'">');}
this.owner.inspectedNode=replaceNodeWithHTML(wNode,sHtml);this.owner.inspectedNode.name=oName;}else{var wNode=this.owner.inspectedNode.cloneNode(true);var oName=wNode.name;var sn=wNode.outerHTML;var typeAttribute=/type=(\x22{0,1})\w{1,}\1/i;sn=sn.replace(typeAttribute,'');if(wNode.attributes.getNamedItem("type")){wNode.attributes.removeNamedItem("type");}
var sValue=wNode.value;var valueAttribute=/(value=\x22[^\x22]{0,}\x22)|(value=[^\s\>]{1,})/i;sn=sn.replace(valueAttribute,'');if(wNode.attributes.getNamedItem("value")){wNode.attributes.removeNamedItem("value");}
var oCols=wNode.size;var sizeAttribute=/size=(\x22{0,1})\d{1,}\1/i;sn=sn.replace(sizeAttribute,'');if(wNode.attributes.getNamedItem("size")){wNode.attributes.removeNamedItem("size");}
var maxLengthAttribute=/maxLength=(\x22{0,1})\d{1,}\1/i;sn=sn.replace(maxLengthAttribute,'');if(wNode.attributes.getNamedItem("maxlength")){wNode.attributes.removeNamedItem("maxlength");}
var sAttribs=sn.match(/<input([^>]*)\/?>/i);sAttribs=sAttribs[1];this.owner.inspectedNode=replaceNodeWithHTML(this.owner.inspectedNode,'<textarea'+sAttribs+' cols="'+oCols+'">'+String_htmlencode(sValue)+'</textarea>');this.owner.inspectedNode.name=oName;this.owner.logic_domSelect(this.owner.inspectedNode,2);}}else{if(propValue=="text"||propValue=="password"){var wNode=this.owner.inspectedNode.cloneNode(true);var sn=wNode.outerHTML;var sValue=wNode.value;var oSize=wNode.cols;var oName=wNode.name;sn=sn.replace(/wrap="?\w*"?/i,'');sn=sn.replace(/rows="?\d*"?/i,'');sn=sn.replace(/cols="?\d*"?/i,'');sn=sn.replace(/name=['"]?.*?['"]?/i,'');var sAttribs=sn.match(/<textarea([^>]*)>/i);sAttribs=sAttribs[1];this.owner.inspectedNode=replaceNodeWithHTML(this.owner.inspectedNode,'<input type="'+propValue+'"'+sAttribs+' size="'+oSize+'" value="'+String_htmlencode(sValue)+'"/>');this.owner.inspectedNode.name=oName;this.owner.logic_domSelect(this.owner.inspectedNode,2);}}
if(propValue=="text"){this.owner.introspector.updatePItitle(translate(KT_Messages["Text Field Properties"]));document.getElementById(this.input_id).help_topic_id="PI_textfield_id";document.getElementById(this.input_type).help_topic_id="PI_textfield_type";document.getElementById(this.textarea_wrap).help_topic_id="PI_textfield_wrap";}else if(propValue=="password"){this.owner.introspector.updatePItitle(translate(KT_Messages["Password Properties"]));document.getElementById(this.input_id).help_topic_id="PI_textfield_id";document.getElementById(this.input_type).help_topic_id="PI_textfield_type";document.getElementById(this.textarea_wrap).help_topic_id="PI_textfield_wrap";}else if(propValue=="textarea"){this.owner.introspector.updatePItitle(translate(KT_Messages["Text Area Properties"]));document.getElementById(this.input_id).help_topic_id="PI_textarea_id";document.getElementById(this.input_type).help_topic_id="PI_textarea_type";document.getElementById(this.textarea_wrap).help_topic_id="PI_textarea_wrap";}
break;}
try{fixFocusHack(0);}
catch(e){}};function Input_TextPI_inspect(propName,propValue){util_safeSetFieldValue(this.input_id,this.owner.inspectedNode.getAttribute("id"));var inputType=this.owner.inspectedNode.tagName.toLowerCase()=="TEXTAREA"?"textarea":this.owner.inspectedNode.type;document.getElementById(this.input_type).value=inputType;if(inputType=="text"){this.owner.introspector.updatePItitle('&nbsp;'+translate(KT_Messages["Text Field Properties"])+'&nbsp;');document.getElementById(this.input_id).help_topic_id="PI_textfield_id";document.getElementById(this.input_type).help_topic_id="PI_textfield_type";document.getElementById(this.textarea_wrap).help_topic_id="PI_textfield_wrap";}else if(inputType=="password"){this.owner.introspector.updatePItitle('&nbsp;'+translate(KT_Messages["Password Properties"])+'&nbsp;');document.getElementById(this.input_id).help_topic_id="PI_textfield_id";document.getElementById(this.input_type).help_topic_id="PI_textfield_type";document.getElementById(this.textarea_wrap).help_topic_id="PI_textfield_wrap";}else if(inputType=="textarea"){this.owner.introspector.updatePItitle('&nbsp;'+translate(KT_Messages["Text Area Properties"])+'&nbsp;');document.getElementById(this.input_id).help_topic_id="PI_textarea_id";document.getElementById(this.input_type).help_topic_id="PI_textarea_type";document.getElementById(this.textarea_wrap).help_topic_id="PI_textarea_wrap";}
var propValue=null;if(inputType=="text"||inputType=="password"){document.getElementById(this.textarea_cols).style.display="none";document.getElementById(this.input_size).style.display="";document.getElementById(this.textarea_rows_label).style.display="none";document.getElementById(this.textarea_rows).style.display="none";document.getElementById(this.input_maxlength_label).style.display="";document.getElementById(this.input_maxlength).style.display="";document.getElementById(this.textarea_wrapL).style.visibility="hidden";document.getElementById(this.textarea_wrapS).style.visibility="hidden";document.getElementById(this.textarea_value_td).style.display="none";document.getElementById(this.input_value_td).style.display="";util_safeSetFieldValue(this.input_value,this.owner.inspectedNode.value);propValue=this.owner.inspectedNode.getAttribute("size");var specified=/<input[^>]*size=['"]?[0-9]+['"]?[^>]*>/i.test(this.owner.inspectedNode.outerHTML);util_safeSetFieldValue(this.input_size,propValue&&specified?propValue:'');propValue=this.owner.inspectedNode.getAttribute("maxlength");specified=/<input[^>]*maxlength=['"]?[0-9]+['"]?[^>]*>/i.test(this.owner.inspectedNode.outerHTML);util_safeSetFieldValue(this.input_maxlength,propValue&&specified?propValue:'');}else if(inputType=="textarea"){document.getElementById(this.input_size).style.display="none";document.getElementById(this.textarea_cols).style.display="";document.getElementById(this.input_maxlength_label).style.display="none";document.getElementById(this.input_maxlength).style.display="none";document.getElementById(this.textarea_rows_label).style.display="";document.getElementById(this.textarea_rows).style.display="";document.getElementById(this.textarea_wrapL).style.visibility="visible";document.getElementById(this.textarea_wrapS).style.visibility="visible";document.getElementById(this.input_value_td).style.display="none";document.getElementById(this.textarea_value_td).style.display="";document.getElementById(this.textarea_value).value=this.owner.inspectedNode.value;propValue=this.owner.inspectedNode.getAttribute("cols");var specified=/<textarea[^>]*cols=['"]?[0-9]+['"]?[^>]*>/i.test(this.owner.inspectedNode.outerHTML);util_safeSetFieldValue(this.textarea_cols,specified&&propValue?propValue:'');propValue=this.owner.inspectedNode.getAttribute("rows");specified=/<textarea[^>]*rows=['"]?[0-9]+['"]?[^>]*>/i.test(this.owner.inspectedNode.outerHTML);util_safeSetFieldValue(this.textarea_rows,specified&&propValue?propValue:'');propValue=this.owner.inspectedNode.getAttribute("wrap");specified=/<textarea[^>]*wrap=['"]?[\w]+['"]?[^>]*>/i.test(this.owner.inspectedNode.outerHTML);document.getElementById(this.textarea_wrap).value=(specified&&propValue?propValue:'');}};Input_TextPI.prototype.apply=Input_TextPI_apply;Input_TextPI.prototype.inspect=Input_TextPI_inspect;window.KtmlPIObjects["input_text"]=Input_TextPI;